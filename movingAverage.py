import matplotlib.pyplot as plt
import numpy as np

# Числа в обратном порядке
numbers = [
    498, 918, 626, 779, 555, 573, 398, 615, 495, 721, 485, 687, 489, 475, 567, 615, 515, 357, 441, 659, 496, 520, 582, 507, 347, 460, 592, 600, 550, 586, 497, 327, 409, 590, 540, 497, 464, 323, 328, 326, 374, 389, 378, 464, 305, 254, 353, 409, 382, 367, 386, 314, 298, 395, 451, 451, 262, 257, 258, 217, 326, 388, 299, 310, 322, 297, 269, 422, 388, 349, 322, 358, 402, 359, 321, 320, 277, 277, 271, 350, 305, 269, 329, 249, 288, 358, 305, 208, 350, 495, 344, 408, 438, 278, 252, 344, 344, 546, 332, 492, 458, 238, 313, 364, 398, 401, 415, 414, 306, 447, 348, 367, 401, 264, 225, 240, 275, 339, 290, 286, 301, 229, 189, 302, 370, 272, 376, 331, 279, 245, 252, 264, 307, 297, 241, 227, 239, 226, 281, 229, 255, 259, 193, 163, 210, 198, 211, 274, 250, 176, 205, 300, 251, 221, 348, 222, 224, 197, 205, 215, 247, 259, 278, 209, 167, 257, 244, 217, 245, 309, 207, 161, 260, 191, 323, 335, 238, 282, 232, 236, 275, 258, 231, 315, 238
]


numbers = numbers[::-1]

# Вычислияем скользящее среднее
window_size = 7
moving_avg = np.convolve(numbers, np.ones(window_size) / window_size, mode='valid')


plt.switch_backend('TkAgg')


plt.figure(figsize=(3, 5))
plt.plot(numbers, label='Числа')
plt.plot(np.arange(window_size - 1, len(numbers)), moving_avg, label=f'Скользящее среднее ({window_size}-окно)')
plt.xlabel('Индекс')
plt.ylabel('Значение')
plt.legend()
plt.title('График чисел и скользящего среднего')
plt.grid(True)
plt.show()
